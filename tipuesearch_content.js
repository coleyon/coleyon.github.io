var tipuesearch = {"pages":[{"title":"screen コマンドを使った linux terminal セッション共有","text":"Screen コマンドを使うと、Linux コンソールを複数ユーザセッション間で共有できます。 参考 みやすい概要 https://mistymagich.wordpress.com/2011/11/08/multiuser_screen_command multiuser mode 権限制御系操作 - http://aperiodic.net/screen/multiuser ユースケース Dev チームのペアプログラミングよろしく、Ops チームにも部下育成やダブルチェックを兼ねて、Linux サーバオペレーションを複数名で行う場合があります。そんな時は、物理コンソールに人が集まって行うのもよいですが、ターミナルのセッションを SSH で皆が共有できる Screen を使うと捗ります。 環境例 Debian Jessie + 共有元ユーザ : parent 共有先ユーザ : child 事前準備 screen インストール sudoer@test:~$ sudo apt-get update && sudo apt-get install screen screen セッションを各ユーザで共有可能にする設定 ## sudoer console sudoer@test:~$ sudo chmod u+s /usr/bin/screen sudoer@test:~$ sudo chmod 755 /var/run/screen セッション公開 screen セッション share を立てる ## parent console parent@test:~$ screen -S share child ユーザへ share セッションを共有する ## parent console parent@test:~$ ( Ctrl+a ) :multiuser on Multiuser mode enabled parent@test:~$ ( Ctrl+a ) :acladd child parent@test:~$ セッション参加 parent ユーザが立てた screen のセッション名を確認し、乗り込む ## child console child@test:~$ screen -ls parent/ There is a suitable screen on: 1448 .share ( 03 /07/2017 10 :49:09 AM ) ( Multi, attached ) 1 Socket in /var/run/screen/S-parent. child@test:~$ screen -x parent/share ログアウトとデタッチの動作 parent ユーザが screen セッションとして起動されている login セッションからログアウトする ## parent console parent@test:~$ exit [ screen is terminating ] parent@test:~$ child ユーザが screen セッションとして起動されている login セッションからログアウトする ## child console parent@test:~$ exit [ screen is terminating ] child@test:~$ parent ユーザが screen セッション share をデタッチする ## parent console parent@test:~$ ( Ctrl+A ) ( d ) [ detached from 1448 .share ] parent@test:~$ child ユーザが screen セッション share をデタッチする ## child console parent@test:~$ ( Ctrl+A ) ( d ) [ detached from 1448 .share ] child@test:~$","tags":"howto","url":"https://coleyon.github.io/screen.html","loc":"https://coleyon.github.io/screen.html"}]};